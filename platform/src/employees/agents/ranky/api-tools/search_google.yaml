name: search_google
description: >
  Search Google and return top results for a keyword.
  Use for SERP analysis, competitor research, and checking what currently ranks.
  Shows titles, URLs, and snippets for each result.

parameters:
  keyword:
    type: string
    description: "Search query / keyword to check rankings for"
    required: true
  num:
    type: integer
    description: "Number of results (1-10, default 10)"
    default: 10

request:
  method: GET
  url: "https://www.googleapis.com/customsearch/v1?q={{params.keyword}}&cx={{env.GOOGLE_CSE_ID}}&key={{env.GOOGLE_API_KEY}}&num={{params.num}}"
  timeout_ms: 15000

response:
  summary: "Google search results for '{{params.keyword}}'"
  error_template: "Google search failed"

requires_env:
  - GOOGLE_API_KEY
  - GOOGLE_CSE_ID

allowed_hosts:
  - "www.googleapis.com"
